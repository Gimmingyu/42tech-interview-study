# 프로세스 & 스레드

> 프로세스는 운영체제로부터 자원을 할당받는 작업의 단위이고 스레드는 프로세스가 할당받은 자원을 이용하는 실행 흐름의 단위입니다.

## 프로세스 메모리

프로세스의 주소 공간은 Code, Data, Heap, Stack 영역으로 구분되어 있습니다. 이러한 주소 공간을 가상 메모리 또는 논리적 메모리라고 부릅니다.

<img width="382" alt="스크린샷 2022-08-23 오전 10 18 28" src="https://user-images.githubusercontent.com/68188768/186047150-31104986-3426-4bf9-aeac-34f3f33c586c.png">

- Code : 사용자가 작성한 프로그램 함수
- Data : 프로그램이 사용하는 데이터 공간 전역 변수 static 변수
- Heap : 프로그래머가 필요할 때 사용하는 공간
- Stack: 함수의 수행을 마치고 복귀할 주소 및 데이터(지역변수, 매개변수, 리턴값 등)

프로세스는 메모리에 올라갈 때 운영체제로부터 시스템 자원을 할당받습니다. 각각 독립된 메모리 영역을 할당해 주기 때문에 프로세스는 다른 프로세스의 변수나 자료에 접근할 수 없습니다.

## 프로세스와 스레드

스레드는 하나의 프로세스 내에서 실행되는 독립적인 일의 단위입니다.

<img width="936" alt="스크린샷 2022-08-23 오후 12 24 49" src="https://user-images.githubusercontent.com/68188768/186062708-a6136fbc-2e9a-43bf-aee4-cbe221ec7b23.png">

스레드는 메모리를 서로 공유할 수 있다. 프로세스가 할당받은 메모리 영역 내에서 Stack형식으로 할당된 메모리 영역은 따로 할당받고, 나머지 Code/Data/Heap 형식으로 할당된 메모리 영역을 공유합니다. 따라서 각각의 스레드는 별도의 스택을 가지고 있지만 힙 메모리는 서로 읽고 쓸 수 있게 됩니다.

스레드 간 데이터를 주고받는 것이 간단해지고 시스템 자원 소모가 줄어들게되지만 자원공유의 문제가 발생할 수 있습니다.

## 프로세스와 스레드의 차이

오류가 발생해 프로세스가 강제 종료된다면, 공유하고 있는 파일을 손상시키는 경우가 아니라면 아무런 영향을 주지 앖습니다. 하지만 스레드의 경우 하나에서 오류가 발생하면 같은 프로세스 내의 다른 스레드 모두 걍제 종료됩니다.

## 멀티 프로세스와 멀티 스레드

### 
멀티 프로세스는 하나의 응용 프로그램을 여러개의 프로세스로 구성하여 각 프로세스가 하나의 작업을 처리하도록 하는 방법입니다.

멀티 스레드는 하나의 응용프로그램을 여러개의 스레드로 구성하고 각 스레드로 하여금 하나의 작업을 처리하도록 하는 방법입니다.


